package com.whj.tbspreview;import androidx.appcompat.app.AppCompatActivity;import android.content.pm.ActivityInfo;import android.os.Bundle;import android.text.TextUtils;import android.view.Window;import android.view.WindowManager;import android.widget.ImageView;import android.widget.TextView;import com.whj.tbspreview.utils.OpenFileUtils;import java.io.File;public class DocPreviewActivity extends AppCompatActivity {    private String docPath;    private DocPreviewLayout doc_preview;    private int activityInfo;    private String docTitle;    private ImageView doc_close, doc_more;    private TextView doc_title;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        activityInfo = getIntent().getIntExtra(K12DocPreview.KEY_PLAY_SCREEN, ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);        docPath = getIntent().getStringExtra(K12DocPreview.KEY_DOC_PATH);        docTitle = getIntent().getStringExtra(K12DocPreview.KEY_DOC_TITLE);        setRequestedOrientation(activityInfo);        requestWindowFeature(Window.FEATURE_NO_TITLE);        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,                WindowManager.LayoutParams.FLAG_FULLSCREEN);        setContentView(R.layout.activity_doc_preview);        doc_preview = findViewById(R.id.doc_preview);        doc_close = findViewById(R.id.doc_close);        doc_more = findViewById(R.id.doc_more);        doc_title = findViewById(R.id.doc_title);        if (!TextUtils.isEmpty(docTitle)) {            doc_title.setText(docTitle);        }        if (!TextUtils.isEmpty(docPath)) {            doc_preview.display(docPath);        }        doc_close.setOnClickListener(view -> onBackPressed());        doc_more.setOnClickListener(view -> {            OpenFileUtils.openFile(this, new File(docPath));        });    }    @Override    protected void onDestroy() {        if (doc_preview != null) {            doc_preview.onStop();        }        super.onDestroy();    }}